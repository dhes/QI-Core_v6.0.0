{
  "resourceType": "Library",
  "id": "AdvancedIllnessandFrailty",
  "extension": [ {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://ecqi.healthit.gov/ecqms/Library/AdvancedIllnessandFrailty",
  "version": "1.22.001",
  "name": "AdvancedIllnessandFrailty",
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBZHZhbmNlZElsbG5lc3NhbmRGcmFpbHR5IHZlcnNpb24gJzEuMjIuMDAxJwoKdXNpbmcgUUlDb3JlIHZlcnNpb24gJzYuMC4wJwoKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjQuMDAwJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbgppbmNsdWRlIEN1bXVsYXRpdmVNZWRpY2F0aW9uRHVyYXRpb24gdmVyc2lvbiAnNS4wLjAwMCcgY2FsbGVkIENNRAppbmNsdWRlIFN0YXR1cyB2ZXJzaW9uICcxLjEzLjAwMCcgY2FsbGVkIFN0YXR1cyAKCmNvZGVzeXN0ZW0gIkxPSU5DIjogJ2h0dHA6Ly9sb2luYy5vcmcnCmNvZGVzeXN0ZW0gIlNOT01FRENUIjogJ2h0dHA6Ly9zbm9tZWQuaW5mby9zY3QnCgp2YWx1ZXNldCAiQWR2YW5jZWQgSWxsbmVzcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTAuMTIuMTA4MicKdmFsdWVzZXQgIkRlbWVudGlhIE1lZGljYXRpb25zIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5Ni4xMi4xNTEwJwp2YWx1ZXNldCAiRnJhaWx0eSBEZXZpY2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTE4LjEyLjEzMDAnCnZhbHVlc2V0ICJGcmFpbHR5IERpYWdub3NpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTMuMTIuMTA3NCcKdmFsdWVzZXQgIkZyYWlsdHkgRW5jb3VudGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg4Jwp2YWx1ZXNldCAiRnJhaWx0eSBTeW1wdG9tIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMy4xMi4xMDc1JwogCmNvZGUgIkhvdXNpbmcgc3RhdHVzIjogJzcxODAyLTMnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdIb3VzaW5nIHN0YXR1cycKY29kZSAiTGl2ZXMgaW4gYSBudXJzaW5nIGhvbWUgKGZpbmRpbmcpIjogJzE2MDczNDAwMCcgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ0xpdmVzIGluIGEgbnVyc2luZyBob21lIChmaW5kaW5nKScKY29kZSAiTWVkaWNhbCBlcXVpcG1lbnQgdXNlZCI6ICc5ODE4MS0xJyBmcm9tICJMT0lOQyIgZGlzcGxheSAnTWVkaWNhbCBlcXVpcG1lbnQgdXNlZCcKCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4gLy8gW0AyMDI2LTAxLTAxVDAwOjAwOjAwLjAsIEAyMDI2LTEyLTMxVDIzOjU5OjU5Ljk5OV0KCmNvbnRleHQgUGF0aWVudAoKZGVmaW5lICJJcyBBZ2UgNjYgb3IgT2xkZXIgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIGFuZCBGcmFpbHR5IjoKICAgQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPj0gNjYKICAgIGFuZCAiSGFzIENyaXRlcmlhIEluZGljYXRpbmcgRnJhaWx0eSIKICAgIGFuZCAoICJIYXMgQWR2YW5jZWQgSWxsbmVzcyBpbiBZZWFyIEJlZm9yZSBvciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICAgIG9yICJIYXMgRGVtZW50aWEgTWVkaWNhdGlvbnMgaW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKCmRlZmluZSAiSXMgQWdlIDY2IHRvIDgwIHdpdGggQWR2YW5jZWQgSWxsbmVzcyBhbmQgRnJhaWx0eSBvciBJcyBBZ2UgODEgb3IgT2xkZXIgd2l0aCBGcmFpbHR5IjoKICAoIEFnZUluWWVhcnNBdChkYXRlIGZyb20gZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiKWluIEludGVydmFsWzY2LCA4MF0KICAgICAgYW5kICJIYXMgQ3JpdGVyaWEgSW5kaWNhdGluZyBGcmFpbHR5IgogICAgICBhbmQgKCAiSGFzIEFkdmFuY2VkIElsbG5lc3MgaW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICAgICAgIG9yICJIYXMgRGVtZW50aWEgTWVkaWNhdGlvbnMgaW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICAgKQogICkKICAgIG9yICggQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPj0gODEKICAgICAgICBhbmQgIkhhcyBDcml0ZXJpYSBJbmRpY2F0aW5nIEZyYWlsdHkiCiAgICApCgpkZWZpbmUgIkhhcyBDcml0ZXJpYSBJbmRpY2F0aW5nIEZyYWlsdHkiOgogIGV4aXN0cyAoICgoW0RldmljZVJlcXVlc3Q6ICJGcmFpbHR5IERldmljZSJdKS5pc0RldmljZU9yZGVyKCkpIEZyYWlsdHlEZXZpY2VPcmRlcgogICAgICB3aGVyZSBGcmFpbHR5RGV2aWNlT3JkZXIuYXV0aG9yZWRPbi50b0ludGVydmFsKCkgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICkKICAgIG9yIGV4aXN0cyAoICgoW09ic2VydmF0aW9uU2NyZWVuaW5nQXNzZXNzbWVudDogIk1lZGljYWwgZXF1aXBtZW50IHVzZWQiXSkuaXNBc3Nlc3NtZW50UGVyZm9ybWVkKCkpIEVxdWlwbWVudFVzZWQKICAgICAgICB3aGVyZSBFcXVpcG1lbnRVc2VkLnZhbHVlIGFzIENvbmNlcHQgaW4gIkZyYWlsdHkgRGV2aWNlIiAKICAgICAgICBhbmQgRXF1aXBtZW50VXNlZC5lZmZlY3RpdmUudG9JbnRlcnZhbCgpIGVuZHMgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgKQogICAgb3IgZXhpc3RzICggKChbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkZyYWlsdHkgRGlhZ25vc2lzIl0gUCApCiAgICB1bmlvbiAoW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIkZyYWlsdHkgRGlhZ25vc2lzIl0gRSApKSBGcmFpbHR5RGlhZ25vc2lzCiAgICAgICAgd2hlcmUgRnJhaWx0eURpYWdub3Npcy5wcmV2YWxlbmNlSW50ZXJ2YWwoKSBvdmVybGFwcyBkYXkgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICkKICAgIG9yIGV4aXN0cyAoICgoW0VuY291bnRlcjogIkZyYWlsdHkgRW5jb3VudGVyIl0pLmlzRW5jb3VudGVyUGVyZm9ybWVkKCkpIEZyYWlsdHlFbmNvdW50ZXIKICAgICAgICB3aGVyZSBGcmFpbHR5RW5jb3VudGVyLnBlcmlvZC50b0ludGVydmFsKCkgb3ZlcmxhcHMgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiCiAgICApCiAgICBvciBleGlzdHMgKCAoKFtTaW1wbGVPYnNlcnZhdGlvbjogIkZyYWlsdHkgU3ltcHRvbSJdKS5pc1N5bXB0b20oKSkgRnJhaWx0eVN5bXB0b20KICAgICAgICB3aGVyZSBGcmFpbHR5U3ltcHRvbS5lZmZlY3RpdmUudG9JbnRlcnZhbCgpIG92ZXJsYXBzIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgKQoKZGVmaW5lICJIYXMgQWR2YW5jZWQgSWxsbmVzcyBpbiBZZWFyIEJlZm9yZSBvciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIjoKZXhpc3RzICgoKFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiQWR2YW5jZWQgSWxsbmVzcyJdIFAgKQp1bmlvbiAoW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIkFkdmFuY2VkIElsbG5lc3MiXSBFICkpIEFkdmFuY2VkSWxsbmVzc0RpYWdub3Npcwp3aGVyZSBBZHZhbmNlZElsbG5lc3NEaWFnbm9zaXMucHJldmFsZW5jZUludGVydmFsKCkgc3RhcnRzIGR1cmluZyBkYXkgb2YgSW50ZXJ2YWxbc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIgLSAxIHllYXIsIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIl0pCgpkZWZpbmUgIkhhcyBEZW1lbnRpYSBNZWRpY2F0aW9ucyBpbiBZZWFyIEJlZm9yZSBvciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIjoKICBleGlzdHMgKCggKFtNZWRpY2F0aW9uUmVxdWVzdDogbWVkaWNhdGlvbiBpbiAiRGVtZW50aWEgTWVkaWNhdGlvbnMiXSkuaXNNZWRpY2F0aW9uQWN0aXZlKCkpIERlbWVudGlhTWVkaWNhdGlvbgogICAgICB3aGVyZSBEZW1lbnRpYU1lZGljYXRpb24ubWVkaWNhdGlvblJlcXVlc3RQZXJpb2QoKSBvdmVybGFwcyBkYXkgb2YgSW50ZXJ2YWxbc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIgLSAxIHllYXIsIAogICAgICAgIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIl0KICApCgpkZWZpbmUgIklzIEFnZSA2NiBvciBPbGRlciBMaXZpbmcgTG9uZyBUZXJtIGluIGEgTnVyc2luZyBIb21lIjoKICBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIAogICAgIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICk+PSA2NgogICAgYW5kICggKCBMYXN0KCAoKFtPYnNlcnZhdGlvblNjcmVlbmluZ0Fzc2Vzc21lbnQ6ICJIb3VzaW5nIHN0YXR1cyJdKS5pc0Fzc2Vzc21lbnRQZXJmb3JtZWQoKSkgSG91c2luZ1N0YXR1cyAgICAKICAgICAgICAgIHdoZXJlIEhvdXNpbmdTdGF0dXMuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBlbmRzIG9uIG9yIGJlZm9yZSAKICAgICAgICAgIGRheSBvZiBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIKICAgICAgICAgIHNvcnQgYnkgCiAgICAgICAgICBlbmQgb2YgZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBhc2MKICAgICAgKSkgTGFzdEhvdXNpbmdTdGF0dXMKICAgICAgICB3aGVyZSBMYXN0SG91c2luZ1N0YXR1cy52YWx1ZSB+ICJMaXZlcyBpbiBhIG51cnNpbmcgaG9tZSAoZmluZGluZykiCiAgICApIGlzIG5vdCBudWxs"
  } ]
}